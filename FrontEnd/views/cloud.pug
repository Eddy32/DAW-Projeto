doctype html
head
  title JavaScript Tag Cloud Chart
  script(src='https://cdn.anychart.com/releases/v8/js/anychart-base.min.js')
  script(src='https://cdn.anychart.com/releases/v8/js/anychart-tag-cloud.min.js')
  style.
    html, body, #container {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    }
body
    



#container
    script.
        dado="#{lezgo}";

        anychart.onDocumentReady(function() {

            console.log("DADOS: " + JSON.parse(dado))


            var chart = anychart.tagCloud(JSON.parse(dado));

            chart.title('Tags')

            chart.angles([0, -45, 90])

            chart.colorRange(true);

            chart.listen("pointClick", function(e){
                var url = "https://en.wikipedia.org/wiki/" + e.point.get("hashtag");
                window.open(url, "_blank");
            });


            chart.container("container");
            chart.draw();
        });